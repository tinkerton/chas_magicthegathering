(this.webpackJsonpmagictcg=this.webpackJsonpmagictcg||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i),l=(a(30),a(17)),c=a(7),s=a(16),u=a(1),d=(a(31),a(9)),g=a(10),m=a(12),p=a(11),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={error:"",errorInfo:"",hasError:!1},n}return Object(g.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,r.a.createElement("h1",null,"Something went wrong."),r.a.createElement("span",null,this.state.error.toString())):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),h=a(3),x=function(e){var t={manaButton:{display:"flex",flexDirection:"row",alignItems:"center",boxSizing:"border-box",borderRadius:"4px 4px 0px 0px",minWidth:"16%",textAlign:"center",position:"relative",borderBottom:"1px solid #CCC",background:"#F7F7F7",margin:"0px 4px 40px 0",height:"44px"},manaImage:{margin:"0px 0px 20px 0px",maxWidth:"20px",background:"#FFF",padding:"4px",borderRadius:"100px",position:"absolute",top:"8px",left:"10px"},manaLabel:{fontFamily:"Arial",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",color:"#333",position:"absolute",top:"15px",left:"45px"}},a=e.button,n=a.value,i=a.name,o=a.imagePath;return r.a.createElement("div",{style:t.manaButton,key:i,button:n,onClick:function(){return e.onChange({value:n})}},r.a.createElement("img",{style:t.manaImage,src:o,alt:i}),r.a.createElement("span",{style:t.manaLabel},i))},b=function(e){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},[{name:"All",value:"All",imagePath:"assets/images/C.svg"},{name:"Black",value:"Black",imagePath:"assets/images/B.svg"},{name:"Blue",value:"Blue",imagePath:"assets/images/U.svg"},{name:"Green",value:"Green",imagePath:"assets/images/G.svg"},{name:"Red",value:"Red",imagePath:"assets/images/R.svg"},{name:"White",value:"White",imagePath:"assets/images/W.svg"}].map((function(t){return r.a.createElement(x,{key:t.name,button:t,onChange:e.onChange})})))},v=function(e){var t=[{value:"B",imagePath:"assets/images/B.svg"},{value:"U",imagePath:"assets/images/U.svg"},{value:"G",imagePath:"assets/images/G.svg"},{value:"R",imagePath:"assets/images/R.svg"},{value:"W",imagePath:"assets/images/W.svg"}],a={manaIconContainer:{display:"inline-block"},manaCost:{background:"#DDD",borderRadius:"10px",display:"inline-block",width:"20px",padding:"1px 0",textAlign:"center",fontWeight:"700"},manaCostColored:{display:"inline-block",width:"20px",textAlign:"center",position:"relative"},manaImage:{position:"relative",top:"4px",left:"2px",width:"20px"}};if(void 0===e.icons)return null;var n=[];return n=(n=e.icons.split("}{")).map((function(e){return e.replace("{","").replace("}","")})),r.a.createElement("div",{style:a.manaIconContainer},n.map((function(e,n){return isNaN(e)&&"X"!==e?r.a.createElement("span",{key:"grey_"+n,style:a.manaCostColored},r.a.createElement("img",{alt:e,style:a.manaImage,src:t.find((function(t){return t.value===e})).imagePath})):r.a.createElement("span",{key:e+"_"+n,style:a.manaCost},e)})))},y=function(e){var t=Object(n.useRef)(null),a={list:{display:"flex",flexDirection:"column",position:"relative"},grid:{display:"flex",justifyContent:"flex-start",flexDirection:"row",margin:"2px"},gridCard:{flex:"1",maxWidth:"200px",width:"200px",cursor:"pointer",position:"relative",background:"#F7F7F7",backgroundImage:'url("../assets/images/template.jpg")',minHeight:"278px",borderRadius:"4px"},nrOfCards:{border:"1px solid #DDD",background:"#FFF",padding:"7px 10px",marginLeft:"5px",fontWeight:"700",color:"#666",top:"1px",position:"relative",borderRadius:"4px",display:"inline-block",width:"14px",textAlign:"center",height:"18px"},cardNr:{position:"absolute",background:"#F00",borderRadius:"100px",display:"block",width:"30px",height:"30px",top:"-5px",right:"0px",color:"#FFF",fontSize:"14px",fontWeight:"900",boxShadow:"5px 5px 5px rgba(0,0,0,0.3)"},cardNrText:{top:"50%",left:"50%",transform:"translate(-50% , -50%)",position:"absolute"},manaName:{padding:"6px",fontWeight:"700",margin:"8px 5px",borderRadius:"4px",display:"inline-flex",minHeight:"20px",maxWidth:"190px"},Blue:{background:"#3498db59"},Black:{background:"rgba(0,0,0,0.15)"},Red:{background:"rgba(255,50,0,0.35)"},Green:{background:"#cfeccd"},White:{background:"rgb(233 224 206)"}};var i=e.card,o=i.name,l=i.colors,c=i.id,s=i.imageUrl,u=i.nrOfCards,d=i.manaCost;return r.a.createElement("div",{style:"List"===e.display?a.list:a.grid},"List"===e.display?r.a.createElement("div",{style:{flex:"1"}},r.a.createElement("span",{key:"add_"+c,onClick:function(t){return e.onChange(c,"remove",null)}},r.a.createElement("img",{src:"assets/images/trash.svg",alt:"Delete",width:"15px"})),r.a.createElement("input",{style:a.nrOfCards,value:u,ref:t,onChange:function(t){return e.onChange(c,"modify",t.target.value)},onClick:function(){t.current.focus(),t.current.select()}}),r.a.createElement("span",{style:Object(h.a)(Object(h.a)({},a[l]),a.manaName)},o),r.a.createElement(v,{icons:d})):r.a.createElement("div",{key:"card_"+c,style:a.gridCard,className:"gridCard",onClick:function(t){return e.onChange(c)}},r.a.createElement("img",{src:s,alt:o,width:"200px"}),u&&r.a.createElement("div",{style:a.cardNr},r.a.createElement("span",{style:a.cardNrText},u))))},C=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentColor;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"List"===e.display?"column":"row"}},e.cards.filter((function(e){return"All"===t?e.colors:e.colors.includes(t)})).map((function(t){return!!t.imageUrl&&r.a.createElement(y,{key:t.id,card:t,display:e.display,onChange:function(t,a,n){return e.onChange(t,a,n)}})})))}}]),a}(r.a.Component),E={foreground:"#333",background:"#f7f7f7"},k={foreground:"#ffffff",background:"#333333"},O=r.a.createContext(k),j=function(e){var t=Object(n.useState)("All"),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object(n.useContext)(O);return r.a.createElement("div",{style:Object(h.a)(Object(h.a)({},{width:"63%",padding:"40px",marginTop:"40px",height:"100vh"}),{},{background:l.background})},r.a.createElement(b,{onChange:function(e){return o(e.value)}}),r.a.createElement(C,{cards:e.cards,currentColor:i,onChange:function(t){return e.onChange(t,"add",null)}}))},w=function(e){var t=Object(n.useState)("All"),a=Object(c.a)(t,2),i=a[0],o=a[1],l=Object(n.useContext)(O);return r.a.createElement("div",{style:Object(h.a)(Object(h.a)({},{width:"100%",padding:"40px",marginTop:"40px",height:"100vh"}),{},{background:l.background})},r.a.createElement(b,{onChange:function(e){return o(e.value)}}),r.a.createElement(C,{cards:e.roster,currentColor:i,onChange:function(t,a,n){return e.onChange(t,a,n)}}))},F=function(e){var t=Object(n.useContext)(O);return r.a.createElement("div",{style:Object(h.a)(Object(h.a)({},{width:"25%",minWidth:"350px",padding:"40px",position:"fixed",right:"0",top:"58px",height:"calc(100vh - 58px)",boxShadow:"-3px 0px 15px rgba(0,0,0,0.4)"}),{},{background:t.background,color:t.foreground})},r.a.createElement("h1",null,"Roster"),r.a.createElement(C,{cards:e.roster,currentColor:"All",display:"List",onChange:function(t,a,n){return e.onChange(t,a,n)}}))},D=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=this.context;return r.a.createElement("button",Object.assign({},e,{style:Object(h.a)(Object(h.a)({},{padding:"10px",marginTop:"-6px",borderRadius:"30px",border:"none",marginRight:"40px",fontWeight:"bold"}),{},{background:t.background,color:t.foreground})}))}}]),a}(r.a.Component);D.contextType=O;var R=D,W=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),d=Object(c.a)(o,2),g=d[0],m=d[1],p=Object(n.useState)(null),h=Object(c.a)(p,2),x=h[0],b=h[1],v=Object(n.useState)(!1),y=Object(c.a)(v,2),C=y[0],D=y[1],W=Object(n.useState)(E),I=Object(c.a)(W,2),B=I[0],S=I[1],T={loadingContainer:{background:"#000",position:"relative",width:"100%",height:"calc(100vh)",display:"block"},loadingLogo:{backgroundImage:"url(../assets/images/magiclogo.png)",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",width:"100%",height:"calc(100vh)",margin:"auto auto"},loadingText:{color:"#FFF",display:"block",margin:"auto auto",textAlign:"center",top:"70%",position:"relative",textTransform:"uppercase"},navBar:{display:"flex",background:"#000",color:"#FFF",justifyContent:"flex-end",padding:"20px 40px 20px 40px",position:"fixed",width:"calc(100vw - 40px)",zIndex:"1"},logo:{fontSize:"20px",fontWeight:"700",position:"absolute",left:"40px"},menuItem:{color:"#FFF",marginRight:"40px",textDecoration:"none",fontWeight:"700"},githubLink:{color:"#DDD",fontSize:"8 px",textTransform:"uppercase",textDecoration:"none",display:"inline-block",fontWeight:"700",marginRight:"40px"},deckContainer:{display:"flex"}};function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remove",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(t){case"add":P(e);break;case"remove":L(e);break;case"modify":N(e,a)}}function P(e){var t=g.find((function(t){return t.id===e})),n=Object(l.a)(a),r=n.indexOf(a.find((function(t){return t.id===e})));-1!==r?(n[r].nrOfCards++,i(n)):(t.nrOfCards=1,i(n.concat(t)))}function L(e){var t=Object(l.a)(a),n=t.indexOf(a.find((function(t){return t.id===e})));-1!==n&&(t[n].nrOfCards>1?(t[n].nrOfCards--,console.log(t[n].nrOfCards)):(t[n].nrOfCards="",t.splice(n,1)),i(t))}function N(e,t){var n=Object(l.a)(a),r=n.indexOf(a.find((function(t){return t.id===e})));t<=0?n.splice(r,1):isNaN(t)||-1!==r&&(n[r].nrOfCards=t),i(n)}function G(e){return r.a.createElement(R,{onClick:e.changeTheme},"Change Theme")}return Object(n.useEffect)((function(){fetch("https://api.magicthegathering.io/v1/cards?code=10e").then((function(e){return e.json()})).then((function(e){D(!0),m(e.cards)}),(function(e){D(!0),b(e)}))}),[!1]),x?r.a.createElement("div",{style:T.loadingContainer},r.a.createElement("div",{style:T.loadingLogo},r.a.createElement("div",{style:T.loadingText},x.message))):C?r.a.createElement(f,null,r.a.createElement(O.Provider,{value:B},r.a.createElement(s.a,null,r.a.createElement("div",{style:T.navBar},r.a.createElement("div",{style:T.logo},"MAGIC THE GATHERING: DECK BUILDER"),r.a.createElement(G,{changeTheme:function(){S(B===k?E:k)}}),r.a.createElement(s.b,{exact:!0,activeClassName:"is-active",style:T.menuItem,to:"/"},"DECK BUILDER"),r.a.createElement(s.b,{activeClassName:"is-active",style:T.menuItem,to:"/roster"},"MY DECK"),r.a.createElement("a",{style:T.githubLink,href:"https://github.com/tinkerton/chas_magicthegathering",rel:"noopener noreferrer",target:"_blank"},"View on Gitub")),r.a.createElement("div",{style:T.deckContainer},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/roster"},r.a.createElement(w,{roster:a,onChange:function(e,t,a){return A(e,"remove",null)}})),r.a.createElement(u.a,{path:"/"},r.a.createElement(j,{cards:g,roster:a,onChange:function(e,t,a){return A(e,"add",null)}}),r.a.createElement(F,{roster:a,onChange:function(e,t,a){return A(e,t,a)}}))))))):r.a.createElement("div",{style:T.loadingContainer},r.a.createElement("div",{style:T.loadingLogo},r.a.createElement("div",{style:T.loadingText,className:"pulsingAnimation"},"Loading API data")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.da3e8aa8.chunk.js.map